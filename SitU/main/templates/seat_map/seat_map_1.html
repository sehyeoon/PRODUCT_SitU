<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Seat_map</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'css/seat_map/seat_map_base.css' %}" />
        <link rel="stylesheet" href="{% static 'css/seat_map/seat_map_1.css' %}" />
        <link rel="stylesheet" href="{% static 'css/seat_map/seat_map_1_2.css' %}" />

    </head>
    <body>
        <div class="title">
            <div class="cafe_info">
                <p class="cafe_time">{{ cafe.cafe_time }}</p>
                <h1 class="cafe_name" id="cafeName" data-id="{{ cafe.id }}">{{ cafe.cafe_name }}</h1>
            </div>
            <div class="cafe_floor_seat">
                <div class="empty_seat">
                <p>잔여석: {{ cafe.empty_seats }}</p>
                </div>
                <div class="floor-selection">
                <button id="floor1Button" class="floor-button active" onclick="showFloor('floor1')">1층</button>
                <button id="floor2Button" class="floor-button" onclick="showFloor('floor2')">2층</button>
                </div>
            </div>
        </div>
        <hr />
        <!-- 1층 Seat Map -->
        <div id="floor1" class="floor" style="display: block">
            <div class="F1_seat_container">
                <div class="seat_container top">
                    <div class="entry">입구</div>
                    <div>
                        {% for seat in seats %} {% if seat.seats_no == 1 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}" data-plug="{{ seat.plug }}" data-backseat="{{ seat.backseat }}">
                            <div class="seat chair"></div>
                            <div class="seat table">{{ seat.seats_no }}</div>
                            <div class="seat chair"></div>
                        </div>
                        {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 2 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="seat chair"></div>
                            <div class="seat table">{{ seat.seats_no }}</div>
                            <div class="seat chair"></div>
                        </div>
                        {% endif %} {% endfor %}
                    </div>
                    <div>
                        {% for seat in seats %} {% if seat.seats_no == 3 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="seat chair"></div>
                            <div class="seat table">{{ seat.seats_no }}</div>
                            <div class="seat chair"></div>
                        </div>
                        {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 4 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="seat chair"></div>
                            <div class="seat table">{{ seat.seats_no }}</div>
                            <div class="seat chair"></div>
                        </div>
                        {% endif %} {% endfor %}
                    </div>
                </div>
                <div class="seat_container middle">
                    <div class="box_container">
                        <div class="box">픽업대</div>
                        <div class="box">2층 계단</div>
                    </div>
                    <div class="seats_container middle">
                        <div class="seats_container middle1">
                            {% for seat in seats %} {% if seat.seats_no == 5 %}
                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                <div class="seat chair"></div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="seat chair"></div>
                            </div>
                            {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 6 %}
                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                <div class="seat chair"></div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="seat chair"></div>
                            </div>
                            {% endif %} {% endfor %}
                        </div>
                        <div class="seats_container middle2">
                            {% for seat in seats %} {% if seat.seats_no == 7 %}
                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                <div class="seat chair"></div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="seat chair"></div>
                            </div>
                            {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 8 %}
                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                <div class="seat chair"></div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="seat chair"></div>
                            </div>
                           {% endif %} {% endfor %}    
                        </div>                        
                        <div class="seats_container middle3">
                            {% for seat in seats %} {% if seat.seats_no == 9 %}
                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                <div class="seat chair"></div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="seat chair"></div>
                            </div>
                            {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 10 %}
                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                <div class="seat chair"></div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="seat chair"></div>
                            </div>
                            {% endif %} {% endfor %} 
                        </div>
                    </div>
                </div>
                <div class="seat_container bottom">
                    {% for seat in seats %} {% if seat.seats_no == 11 %}
                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                        <div class="seat chair"></div>
                        <div class="seat table">{{ seat.seats_no }}</div>
                        <div class="seat chair no-right-radius"></div>
                    </div>
                    {% endif %} {% endfor %}{% for seat in seats %} {% if seat.seats_no == 12 %}
                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                        <div class="seat chair"></div>
                        <div class="seat table">{{ seat.seats_no }}</div>
                        <div class="seat chair sofa"></div>
                    </div>
                    {% endif %} {% endfor %}{% for seat in seats %} {% if seat.seats_no == 13 %}
                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                        <div class="seat chair"></div>
                        <div class="seat table">{{ seat.seats_no }}</div>
                        <div class="seat chair sofa"></div>
                    </div>
                    {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 14 %}
                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                        <div class="seat chair"></div>
                        <div class="seat table">{{ seat.seats_no }}</div>
                        <div class="seat chair no-left-radius"></div>
                    </div>
                    {% endif %} {% endfor %}
                </div>
            </div>
        </div>
        <div id="popup">
            <div id="popup-content">
              <h1 id="seat-info"></h1>
              <p>예약 후 15분 내로 카페 직원분의 인증을 받아야 예약이 확정됩니다!</p>
              <form id="reservationForm" method="post" action="{{ reservation_complete }}">
                {% csrf_token %}
                <input type="hidden" name="seat_id" value="" id="popup-seat-id" />
                <input type="hidden" name="number_of_people" value="1" />
                <button id="reserveSeatButton" type="post"><h3>자리 선택하기</h3></button>
              </form>
              <button id="popup-close" onclick="window.close()"></button>
            </div>
          </div>
         <!-- 2층 Seat Map -->
         <div id="floor2" class="floor" style="display: none">
            <div class="F2_seat_container">
                <div class="seat_container left">
                        {% for seat in seats %} {% if seat.seats_no == 13 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                            <div class="seat chair"></div>
                            <div class="seat chair"></div>
                            </div>
                            <div class="seat table">{{ seat.seats_no }}</div>
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                        </div>
                        {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 14 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %}
                        {% for seat in seats %} {% if seat.seats_no == 15 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 16 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %}
                        {% for seat in seats %} {% if seat.seats_no == 17 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 18 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %}
                        {% for seat in seats %} {% if seat.seats_no == 19 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %} {% for seat in seats %} {% if seat.seats_no == 20 %}
                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                            <div class="chairs">
                                <div class="seat chair"></div>
                                <div class="seat chair"></div>
                                </div>
                                <div class="seat table">{{ seat.seats_no }}</div>
                                <div class="chairs">
                                    <div class="seat chair"></div>
                                    <div class="seat chair"></div>
                                    </div>
                        </div>
                        {% endif %} {% endfor %}
                    </div>
                <!--오른쪽-->
                <div class="seat_container right">
                    <div class="first_container ">
                            <div class="top_container">
                                <div class="box">4인석</div> 
                                <div class="box">4인석</div> 
                                <div class="studyroom">스터디룸</div> 
                                <div class="studyroom">스터디룸</div> 
                            </div>
                            <div class="middle_container">
                                <div class="middle single">
                                    {% for seat in seats %} {% if seat.seats_no == 21 %}
                                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">   
                                            <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %}
                                    {% for seat in seats %} {% if seat.seats_no == 22 %}
                                         <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                                <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %}
                                    {% for seat in seats %} {% if seat.seats_no == 23 %}
                                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                            <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %} 
                                    {% for seat in seats %} {% if seat.seats_no == 24 %}
                                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                            <div class="seat table">{{ seat.seats_no }}</div></div>                    
                                    {% endif %} {% endfor %} 
                                    {% for seat in seats %} {% if seat.seats_no == 25 %}
                                            <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                                    <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %} 
                                    {% for seat in seats %} {% if seat.seats_no == 26 %}
                                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                                    <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %} 
                                </div>
                                <div>
                                <div class="table">테이블</div>
                                </div>
                                <div class="middle single2">
                                    {% for seat in seats %} {% if seat.seats_no == 27 %}
                                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">   
                                        <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %}
                                    {% for seat in seats %} {% if seat.seats_no == 28 %}
                                     <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                            <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %}
                                    {% for seat in seats %} {% if seat.seats_no == 29 %}
                                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                        <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %} 
                                    {% for seat in seats %} {% if seat.seats_no == 30 %}
                                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                        <div class="seat table">{{ seat.seats_no }}</div></div>                    
                                    {% endif %} {% endfor %} 
                                    {% for seat in seats %} {% if seat.seats_no == 31 %}
                                        <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                                <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %} 
                                    {% for seat in seats %} {% if seat.seats_no == 32 %}
                                    <div class="seat" id="{{ seat.id }}" data-status="{{ seat.seat_status }}">
                                                <div class="seat table">{{ seat.seats_no }}</div></div>
                                    {% endif %} {% endfor %} 
                                </div>
                            </div>
                        <div class="bottom_container">
                                <div class="studyroom">스터디룸</div>
                                <div class="studyroom">스터디룸</div>
                        </div>
                    </div>
                    <div class="second_container">
                            <div class="stair">1층 계단</div>
                    </div>
        
                    <div class="third_container">
                            <div class="studyroom_container">
                                <div class="studyroom">스터디룸</div>
                                <div class="studyroom">스터디룸</div>
                            </div>
                            <div class="studyroom_container">
                                <div class="studyroom">스터디룸</div>
                                <div class="studyroom">스터디룸</div>
                            </div>     
                    </div>
        </div>
        <div id="popup">
            <div id="popup-content">
                <h1 id="seat-info">자리 선택 완료</h1>
                <p>예약 후 15분 내로 카페 직원분의 인증을 받아야 예약이 확정됩니다!</p>
                <form id="reservationForm" method="post" action="{{ reservation_complete }}">
                    {% csrf_token %}
                    <input type="hidden" name="seat_id" value="" id="popup-seat-id" />
                    <input type="hidden" name="number_of_people" value="1" />
                    <button id="reserveSeatButton" type="post"><h3>자리 선택하기</h3></button>
                </form>
                <button id="popup-close" onclick="window.close()"></button>
            </div>
        </div>

        <script src="{% static 'js/seat_map.js' %}"></script>

    </body>
</html>
