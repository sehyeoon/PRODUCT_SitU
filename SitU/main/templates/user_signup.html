{% extends 'base.html' %} {% load static %} {% block extra_css %} {% endblock %} {% block content %}
<link rel="stylesheet" href="{% static 'user_signup.css' %}" />
<div class="screen">
    <div class="signup-container">
        <h1 class="title">SitU에 오신 걸 환영합니다</h1>
        <h2 class="subtitle">회원가입</h2>
        <div class="separator"></div>
        <form method="post" action="{% url 'user_signup' %}" onsubmit="return checkForm()">
            {% csrf_token %}
            <div class="input-group">
                <label for="name">이름</label>
                <input id="name" name="name" placeholder="이름을 입력하세요" required />
            </div>
            <div class="input-group">
                <label for="phone">전화번호</label>
                <input id="phone" name="phone" placeholder="전화번호를 입력하세요" required />
            </div>
            <div class="input-group">
                <label for="username">아이디</label>
                <input id="username" name="username" placeholder="아이디를 입력하세요" required />
            </div>
            <div class="input-group">
                <label for="password">비밀번호</label>
                <input
                    id="password"
                    name="password"
                    type="password"
                    placeholder="비밀번호를 입력하세요"
                    required
                    oninput="checkPasswordMatch()"
                />
            </div>
            <div class="input-group">
                <label for="password_confirm">비밀번호 확인</label>
                <input
                    id="password_confirm"
                    name="password_confirm"
                    type="password"
                    placeholder="비밀번호를 다시 입력하세요"
                    required
                    oninput="checkPasswordMatch()"
                />
                <span id="passwordMatchMessage"></span>
            </div>
            <button type="submit" class="signup-button">회원가입하기</button>
        </form>
    </div>
</div>
<script>
    function checkPasswordMatch() {
        var password = document.getElementById('password').value;
        var passwordConfirm = document.getElementById('password_confirm').value;
        var messageElement = document.getElementById('passwordMatchMessage');

        if (password === '' && passwordConfirm === '') {
            messageElement.textContent = '비밀번호가 일치합니다';
            messageElement.style.opacity = '0';
        } else if (password === passwordConfirm) {
            messageElement.style.color = 'green';
            messageElement.textContent = '비밀번호가 일치합니다';
            messageElement.style.opacity = '1';
        } else {
            messageElement.style.color = 'red';
            messageElement.textContent = '비밀번호가 일치하지 않습니다';
            messageElement.style.opacity = '1';
        }
    }

    function checkForm() {
        var password = document.getElementById('password').value;
        var passwordConfirm = document.getElementById('password_confirm').value;

        if (password !== passwordConfirm) {
            alert('비밀번호가 일치하지 않습니다.');
            return false;
        }
        return true;
    }
</script>
{% endblock %}
